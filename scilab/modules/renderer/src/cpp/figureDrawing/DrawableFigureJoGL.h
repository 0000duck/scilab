/*------------------------------------------------------------------------*/
/* file: DrawableFigureJoGL.h                                             */
/* Copyright INRIA 2007                                                   */
/* Authors : Jean-Baptiste Silvy                                          */
/* desc : Class containing the driver dependant routines to draw a        */
/*        figure object with JoGL                                         */
/*------------------------------------------------------------------------*/

#ifndef _DRAWABLE_FIGURE_JOGL_H_
#define _DRAWABLE_FIGURE_JOGL_H_

#include "DrawableFigureBridge.h"
#include "DrawableFigure.h"
#include "DrawableFigureJavaMapper.hxx"
#include "../DrawableObjectJoGL.h"
#include "ScilabGraphicWindow.hxx"

namespace sciGraphics
{

class DrawableFigureJoGL : public virtual DrawableFigureBridge, public DrawableObjectJoGL
{

public:

  DrawableFigureJoGL( DrawableFigure * drawer ) ;

  virtual ~DrawableFigureJoGL( void ) ;

  /**
  * Tell the canvas to draw itself.
  */
  virtual void drawCanvas( void ) ;

  /**
   * Create the rendering canvas for the figure if none exists.
   */
  virtual void openRenderingCanvas( int figureIndex ) ;

  /**
   * Close the rendering canvas
   */
  virtual void closeRenderingCanvas( void ) ;

  /**
   * Set the background color of the figure
   */
  virtual void setBackgroundColor( int backgroundColor ) ;

  /**
   * Set a new colormap to this figure
   * @param nbColor x 3 matrix contains the three channels RGB of each color
   * @param nbColor number of color in the colormap
   */
  virtual void setColorMap( const double rgbMat[], int nbColor ) ;

  /**
   * Fill the rgbMat with the colors in the colormap
   * @param rgbMat should be a nbColor x 3 matrix with nbColor the number of color in the colormap
   */
  virtual void getColorMap( double rgbMat[] ) ;

  /**
   * Get the size (width, height) of the figure in parameter size.
   */
  virtual void getSize( int size[2] ) ;

  /**
   * Set the size (width, height) of the figure.
   */
  virtual void setSize( const int size[2] ) ;

  /**
   * Get the size of the window enclosing the figure.
   */
  virtual void getWindowSize( int size[2] ) ;

  /**
   * Set the size of the window enclosing the figure.
   */
  virtual void setWindowSize( const int size[2] ) ;

  /**
   * Get the size of the window enclosing the figure.
   */
  virtual void getWindowPosition( int pos[2] ) ;

  /**
   * Set the size of the window enclosing the figure.
   */
  virtual void setWindowPosition( const int pos[2] ) ;

  /**
   * Set the message displayed by the figure.
   */
  virtual void setInfoMessage( const char * message ) ;

  /**
   * Set pixmap mode to on or off
   */
  virtual void setPixmapMode(bool onOrOff);

  /**
   * Get the pixmap status (on or off).
   */
  virtual bool getPixmapMode(void);

  /**
   * Specify if the figure can be render or not.
   */
  virtual void setRenderingEnable(bool isEnable);

  /**
   * Return the drawn object
   */
  DrawableFigure * getFigureDrawer( void ) ;

protected:

  /**
   * Get the object performing mapping with Java class.
   */
  DrawableFigureJavaMapper * getFigureJavaMapper(void);

  /**
   * Interface with the java object generated by giws
   */
  org_scilab_modules_gui_graphicWindow::ScilabGraphicWindow * m_pJavaWindow;

} ;

}

#endif /* _DRAWABLE_FIGURE_JOGL_H_  */

