<?xml version="1.0"?>
<menubar>

   <!-- All "main" menus are disabled when created and then enabled in scilab.start file after all macros are loaded -->

   <!-- File menu -->
   <menu label="File" mnemonic="F" enabled="false">
        <submenu label="Launch new Scilab" mnemonic="N" enabled="false"/> 
        <separator/>
        <submenu label="Exec..." mnemonic="E">
            <callback 
            instruction="
              %fileToExec = xgetfile('*.sci', getcwd(), 'Select a file to exec');
              if ~isempty(%fileToExec) then 
                exec(%fileToExec);
                disp('Exec done.');
              end
              clear %fileToExec"
            type="0"/>
        </submenu> 
        <separator/>
        <submenu label="Open..." mnemonic="O"> 
            <callback 
            instruction="
              %fileToOpen = xgetfile('*.sci', getcwd(), 'Select a file to open with Scipad');
              if ~isempty(%fileToOpen) then 
                scipad(%fileToOpen);
              end
              clear %fileToOpen"
            type="0"/>
        </submenu> 
        <submenu label="Load..." mnemonic="L"> 
            <callback 
            instruction="
              %fileToLoad = xgetfile('*.bin', getcwd(), 'Select a file to load');
              if ~isempty(%fileToLoad) then 
                exec(%fileToLoad);
                disp('File loaded.');
              end
              clear %fileToLoad"
            type="0"/>
        </submenu> 
        <submenu label="Save..." mnemonic="S" enabled="false"/> 
        <separator/>
        <submenu label="Change current directory..." mnemonic="C"> 
            <callback 
            instruction="
              %newDir = uigetdir(getcwd(), 'Select a directory');
              if ~isempty(%newDir) then 
                cd(%newDir);
              end
              clear %newDir"
            type="0"/>
        </submenu> 
        <submenu label="Display current directory" mnemonic="D">
            <callback instruction="if iswaitingforinput() then printf('\n%s\n\n%s\n',prompt(),getcwd()); else printf('\n\n%s\n\n',getcwd());end" type="0"/>
        </submenu> 
        <separator/>
        <submenu label="Print setup..." mnemonic="R" enabled="false"/> 
        <submenu label="Print" mnemonic="P" enabled="false"/> 
        <separator/>
        <submenu label="Quit" mnemonic="Q"> 
            <callback instruction="exit();" type="0"/>
        </submenu>
    </menu>

    <!-- Edit menu -->
    <menu label="Edit" mnemonic="E" enabled="false">
        <submenu label="Select all" mnemonic="S" enabled="false"/> 
        <separator/>
        <submenu label="Copy" mnemonic="C" enabled="false"/> 
        <submenu label="Paste" mnemonic="P" enabled="false"/> 
        <submenu label="Empty clipboard" mnemonic="L" enabled="false"/> 
    </menu>

    <!-- Preferences menu -->
    <menu label="Preferences" mnemonic="P">
        <submenu label="Language" mnemonic="L" enabled="false"/> 
        <submenu label="Colors" mnemonic="C" enabled="false"/> 
        <submenu label="File association" mnemonic="F" enabled="false"/> 
        <submenu label="Toolbar" mnemonic="L" enabled="false"/> 
        <separator/>
        <submenu label="Clear History" mnemonic="H" enabled="false"/> 
        <submenu label="Clear Console" mnemonic="O"> 
          <callback instruction="org.scilab.modules.gui.bridge.CallScilabBridge.clear" type="3"/>
        </submenu>
    </menu>

    <!-- Control menu -->
    <menu label="Control" mnemonic="C" enabled="false">
        <submenu label="Resume" mnemonic="R" enabled="false"> 
            <callback instruction="resume;" type="0"/>
        </submenu>
        <submenu label="Abort" mnemonic="A"> 
            <callback instruction="abort;" type="0"/>
        </submenu>
        <submenu label="Interrupt" mnemonic="I"> 
            <callback instruction="pause;" type="0"/>
        </submenu>
    </menu>

    <!-- Applications menu -->
    <menu label="Applications" mnemonic="A" enabled="false">
        <submenu label="Editor" mnemonic="S"> 
            <callback instruction="scipad();" type="0"/>
        </submenu>
        <separator/>
        <submenu label="Scicos" mnemonic="S" enabled="false"> 
            <callback instruction="scicos();" type="0"/>
        </submenu>
        <separator/>
        <submenu label="EditGraph" mnemonic="E" enabled="false"> 
            <callback instruction="edit_graph();" type="0"/>
        </submenu>
        <separator/>
        <submenu label="Matlab to Scilab translator" mnemonic="M"> 
            <callback instruction="mfile2sci();" type="0"/>
        </submenu>
        <separator/>
        <submenu label="Variable Editor" mnemonic="V"> 
            <callback instruction="browsevar();" type="0"/>
        </submenu>
    </menu>

    <!-- Help menu -->
    <menu label="?" mnemonic="?" enabled="false">
        <submenu label="Scilab Help" mnemonic="S"> 
            <callback instruction="help();" type="0"/>
        </submenu>
        <submenu label="Configure" mnemonic="C" enabled="false"/> 
        <separator/>
        <submenu label="Scilab demonstrations" mnemonic="D" enabled="false"/> 
        <separator/>
        <submenu label="Web links" mnemonic="W" enabled="false"/> 
        <separator/>
        <submenu label="About Scilab..." mnemonic="A" enabled="false"/> 
    </menu>
</menubar>