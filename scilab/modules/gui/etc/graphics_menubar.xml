<?xml version="1.0"?>
<!-- [SCILAB_FIGURE_ID] pattern is replaced at generation of Java menu by the ID of the figure --> 
<menubar>
    <menu label="File" mnemonic="F">
        <submenu label="New figure..." mnemonic="N"> 
            <callback instruction="scf();" type="0"/>
        </submenu>
        <separator/>
        <submenu label="Load..." mnemonic="L"> 
            <callback 
            instruction="
              %fileToLoad = xgetfile('*.scg', getcwd(), 'Select a file to load');
              if ~isempty(%fileToLoad) then 
                xload(%fileToLoad,[SCILAB_FIGURE_ID]);
              end
              clear %fileToLoad"
            type="0"/>
        </submenu> 
        <submenu label="Save..." mnemonic="S" enabled="false"/> 
        <separator/>
        <submenu label="Export to BMP..." mnemonic="E"> 
            <callback 
            instruction="
              %fileToWrite = xgetfile('*.bmp', getcwd(), 'Select a file name');
              if ~isempty(%fileToWrite) then 
                xs2bmp([SCILAB_FIGURE_ID], %fileToWrite);
              end
              clear %fileToWrite"
            type="0"/>
        </submenu>
		<submenu label="Export to GIF..." mnemonic="E"> 
            <callback 
            instruction="
              %fileToWrite = xgetfile('*.gif', getcwd(), 'Select a file name');
              if ~isempty(%fileToWrite) then 
                xs2gif([SCILAB_FIGURE_ID], %fileToWrite);
              end
              clear %fileToWrite"
            type="0"/>
        </submenu>
		<submenu label="Export to JPG..." mnemonic="E"> 
            <callback 
            instruction="
              %fileToWrite = xgetfile('*.jpg', getcwd(), 'Select a file name');
              if ~isempty(%fileToWrite) then 
                xs2jpg([SCILAB_FIGURE_ID], %fileToWrite);
              end
              clear %fileToWrite"
            type="0"/>
		</submenu>
		<submenu label="Export to PNG..." mnemonic="E"> 
            <callback 
            instruction="
              %fileToWrite = xgetfile('*.png', getcwd(), 'Select a file name');
              if ~isempty(%fileToWrite) then 
                xs2png([SCILAB_FIGURE_ID], %fileToWrite);
              end
              clear %fileToWrite"
            type="0"/>
		</submenu>
		<submenu label="Export to PPM..." mnemonic="E"> 
            <callback 
            instruction="
              %fileToWrite = xgetfile('*.ppm', getcwd(), 'Select a file name');
              if ~isempty(%fileToWrite) then 
                xs2ppm([SCILAB_FIGURE_ID], %fileToWrite);
              end
              clear %fileToWrite"
            type="0"/>
        </submenu>
        <submenu label="Copy to clipboard" mnemonic="C" enabled="false"/> 
        <separator/>
        <submenu label="Print setup..." mnemonic="R" enabled="false"/> 
        <submenu label="Print" mnemonic="P" enabled="false"/> 
        <separator/>
        <submenu label="Close" mnemonic="C">
            <callback instruction="delete(scf([SCILAB_FIGURE_ID]));" type="0"/>
        </submenu> 
    </menu>

    <menu label="Tools" mnemonic="T">
        <submenu label="Toolbar" mnemonic="T" enabled="false"/> 
        <separator/>
        <submenu label="Zoom" mnemonic="Z" enabled="false"/> 
        <submenu label="UnZoom" mnemonic="U" enabled="false"/> 
        <separator/>
        <submenu label="2D/3D Rotation" mnemonic="R" enabled="false"/> 
    </menu>

    <menu label="Edit" mnemonic="E">
        <submenu label="Select as current figure" mnemonic="S"> 
            <callback instruction="scf([SCILAB_FIGURE_ID]);" type="0"/>
        </submenu> 
        <submenu label="Redraw figure" mnemonic="R"> 
            <callback instruction="xbasr([SCILAB_FIGURE_ID]);" type="0"/>
        </submenu> 
        <submenu label="Clear figure" mnemonic="C">
            <callback instruction="clf(scf([SCILAB_FIGURE_ID]));" type="0"/>
        </submenu> 
        <separator/>
        <submenu label="Figure properties" mnemonic="F" enabled="false"> 
            <callback instruction="ged(8,[SCILAB_FIGURE_ID]);" type="0"/>
        </submenu> 
        <submenu label="Axes properties" mnemonic="A" enabled="false"> 
            <callback instruction="ged(9,[SCILAB_FIGURE_ID]);" type="0"/>
        </submenu> 
        <separator/>
        <submenu label="Start entity picker" mnemonic="S" enabled="false"> 
            <callback instruction="ged(10,[SCILAB_FIGURE_ID]);" type="0"/>
        </submenu> 
        <submenu label="Stop entity picker" mnemonic="T" enabled="false"> 
            <callback instruction="ged(11,[SCILAB_FIGURE_ID]);" type="0"/>
        </submenu>
    </menu>

    <menu label="?" mnemonic="?">
        <submenu label="Scilab Help" mnemonic="S"> 
            <callback instruction="help();" type="0"/>
        </submenu>
        <separator/>
        <submenu label="About Scilab..." mnemonic="A" enabled="false"/> 
    </menu>
</menubar>