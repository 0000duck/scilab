<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
 * Scilab ( http://www.scilab.org/ ) - This file is part of Scilab
 * Copyright (C) INRIA
 * 
 * This file must be used under the terms of the CeCILL.
 * This source file is licensed as described in the file COPYING, which
 * you should have received as part of this distribution.  The terms
 * are also available at    
 * http://www.cecill.info/licences/Licence_CeCILL_V2-en.txt
 *
 -->
<refentry xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svg="http://www.w3.org/2000/svg" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:db="http://docbook.org/ns/docbook" version="5.0-subset Scilab" xml:lang="en" xml:id="loadplots"><info><pubdate>$LastChangedDate$</pubdate></info><refnamediv><refname>loadplots</refname><refpurpose>loads and formats saved old style
  plots</refpurpose></refnamediv>
  

  

  

  

  

  <refsynopsisdiv><title>Calling Sequence</title><synopsis>rec=loadplots(fil)</synopsis></refsynopsisdiv>

  <refsection><title>Parameters</title>
    <variablelist>
      <varlistentry>
        <term>fil</term>

        <listitem>
          <para>character string giving the path of the binary file containing
          the save of a graphic (old style)</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>rec</term>

        <listitem>
          <para>A data structure (see Description below)</para>
        </listitem>
      </varlistentry>
    </variablelist>
  </refsection>

  <refsection><title>Description</title>
    <para>Given a file generated by <literal>xsave</literal> of by the save menu in
    graphic window this function returns a data structure containing the
    context and plot definition.</para>

    <para><literal>rec</literal> is a typed list with type <literal>"SPLOT"</literal>. Each
    of its <literal>2:$</literal> fields contains a graphic instruction definition
    and its parameters. <literal>rec(i)(1)</literal> gives the fields names of the
    <literal>i</literal> th graphic instruction</para>

    <para><literal>txt=string(rec)</literal> generates the Scilab instructions which
    reproduce the plot. To make the necessary functions known, load the
    <literal>loadplots</literal> function first. This can be done with the
    instruction</para>

    <programlisting><![CDATA[loadplots;]]></programlisting>

    <para><emphasis role="bold">Warning</emphasis>The <literal>loadplots</literal> function is currently
      available with the graphic files saved under the old graphic mode.</para>
  </refsection>

  <refsection><title>Examples</title><programlisting role="example"><![CDATA[

set old_style on // switch to old graphic mode
driver('Rec');xbasc();plot2d([0 1.5 4]) //make a plot
xsave(TMPDIR+'/foo.scg') //save it in a binary file

rec=loadplots(TMPDIR+'/foo.scg'); //get the associated data structure
//here rec($) is the data structure associated with the plot2d instruction
rec($).x //the x vector
rec($).y //the y vector

string(rec) //the scilab instructions producing the same plot

mputl(string(rec),TMPDIR+'/foo.sce') //creates a script file
xbasc();exec(TMPDIR+'/foo.sce',-1) //execute it to re-create the plot

xbasc();
set old_style off  // switch nack to new graphic mode
 
  ]]></programlisting></refsection>

  <refsection><title>See Also</title><simplelist type="inline">
    <member>
      <link linkend="xsave">xsave</link>
    </member>

    <member>
      <link linkend="xload">xload</link>
    </member>
  </simplelist></refsection>
</refentry>