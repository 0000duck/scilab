<?xml version="1.0" encoding="ISO-8859-1" standalone="no"?>
<!DOCTYPE MAN SYSTEM "../../../../modules/helptools/help.dtd">
<MAN>
  <LANGUAGE>eng</LANGUAGE>
  <TITLE>ilib_build</TITLE>
  <TYPE>Scilab Function</TYPE>
  <DATE>$LastChangedDate: 2006-09-03 11:54:48 +0200 (Sun, 03 Sep 2006) $</DATE>
  <SHORT_DESCRIPTION name="ilib_mex_build"> utility for mex library management</SHORT_DESCRIPTION>
  <CALLING_SEQUENCE>
    <CALLING_SEQUENCE_ITEM>ilib_mex_build(lib_name,table,files,libs [,makename,ldflags,cflags,fflags])  </CALLING_SEQUENCE_ITEM>
  </CALLING_SEQUENCE>
  <PARAM>
    <PARAM_INDENT>
      <PARAM_ITEM>
        <PARAM_NAME>lib_name</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: a character string, the generic name of the library without path and extension.</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>table</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: 3 column string matrix giving the table of 'scilab-name', 'interface name', 'cmex' or 'fmex'</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>files</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: string matrix giving objects files needed for shared library creation</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>libs</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: string matrix giving extra libraries needed for shred library creation</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>makename</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: character string. The path of the Makefile file without extension.</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>ldflags,cflags,fflags</PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: character strings to provide options for the loader, the C compiler and the Fortran compiler.</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
    </PARAM_INDENT>
  </PARAM>
  <DESCRIPTION>
    <P>
    This tool is used to create mex libraries and to generate a 
    loader file which can be used to dynamically load the mex shared library
    </P>
  </DESCRIPTION>
  <EXAMPLE>
<![CDATA[
cd(TMPDIR);
mputl('ilib_mex_build(''libmex'',[''mexf16'',''mexfunction16'',''cmex''],[],[],''Makelib'','''','''','''')','builder.sce');

mputl([
'#include ""mex.h""'
'void mexFunction(nlhs, plhs, nrhs, prhs)'
'     int nlhs, nrhs;'
'     mxArray *plhs[]; mxArray *prhs[];'
'{'
'  int *dims = mxGetDimensions(prhs[0]);'
'  sciprint(""%d %d %d\n"",dims[0],dims[1],dims[2]);'
'}'
],'mexfunction16.c');
exec(TMPDIR+'/builder.sce');
exec(TMPDIR+'/loader.sce');
mexf16(rand(2,3,2));

 ]]>
  </EXAMPLE>
  <SEE_ALSO>
    <SEE_ALSO_ITEM>
      <LINK>addinter</LINK>
    </SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM>
      <LINK>link</LINK>
    </SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM>
      <LINK>ilib_compile</LINK>
    </SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM>
      <LINK>ilib_gen_Make</LINK>
    </SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM>
      <LINK>ilib_gen_gateway</LINK>
    </SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM>
      <LINK>ilib_gen_loader</LINK>
    </SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM>
      <LINK>ilib_for_link</LINK>
    </SEE_ALSO_ITEM>
  </SEE_ALSO>
</MAN>
