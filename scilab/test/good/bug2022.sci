// Non-regression test file for bug 2022
// Author : Scilab Project - Pierre MARECHAL
// Copyright INRIA
// Date : 12 june 2006

mode(-1);
clear;

test1 = ( perctl([500 480 460 453 452 452 451 450 450 431 421 420 420 417 416 414 410 410 405 397 380 360 332],90) == [472 3] );
test2 = ( perctl([500 480 460 453 452 452 451 450 450 431 421 420 420 417 416 414 410 410 405 397 380 360 332],75) == [452 6] );
test3 = ( perctl([500 480 460 453 452 452 451 450 450 431 421 420 420 417 416 414 410 410 405 397 380 360 332],10) == [368 22] );
test4 = ( perctl([500 480 460 453 452 452 451 450 450 431 421 420 420 417 416 414 410 410 405 397 380 360 332],1) == [332 23] );
test5 = ( perctl([500 480 460 453 452 452 451 450 450 431 421 420 420 417 416 414 410 410 405 397 380 360 332],2) == [332 23] );
test6 = ( perctl([500 480 460 453 452 452 451 450 450 431 421 420 420 417 416 414 410 410 405 397 380 360 332],99) == [500 1] );

test7 = ( perctl([23.4,364.34,1929.3,4234.3,293.3,928.3],[10]) == [23.4 1] );

if and(test1) & and(test2) & and(test3) & and(test4) & and(test5) & and(test6) & and(test7) then
    affich_result(%T,2022);
else
    affich_result(%F,2022);
end

clear

