 
getf SCI/util/testexamples.sci
 
reinit_for_test()
 
%U=mopen('/usr/local/lib/scilab/tests/Examples/other/library_data.ref','r');
 
// elemlib is a predefined library
 
elemlib;
 
if load_ref('elemlib') then   bugmes();quit;end,
 
///displays the contents of the library
 
A = rand(3, 3);
 
%ans = cosm(A);
 
if load_ref('%ans') then   bugmes();quit;end,
 
//loads cosm and executes it
 
 
who;
your variables are...
 
 %ans      cosm      A         %U        %CMP      xbasc_run           
 clf_run   xdel_run  reinit_for_test     load_ref  bugmes    
 scicos_pal          %helps    home      SCIHOME   PWD       TMPDIR    
 MSDOS     SCI       sparselib           xdesslib  percentlib          
 polylib   intlib    elemlib   utillib   statslib  alglib    siglib    
 optlib    autolib   roblib    soundlib  metalib   armalib   tkscilib  
 tdcslib   s2flib    mtlblib   %F        %T        %z        %s        
 %nan      %inf      COMPILER  %gtk      %pvm      %tk       $         
 %t        %f        %eps      %io       %i        %e        
 using      11235 elements  out of    5000000.
          and         57 variables out of       9231
 
your global variables are...
 
 LANGUAGE  %helps    demolist  %browsehelp         LCC       
 %scipad_language    %toolboxes          %toolboxes_dir      
 using       1125 elements  out of      11000.
          and          8 variables out of        767
 
 
if load_ref('who') then   bugmes();quit;end,
 
/// now cosm is a variable
 
 
%ans = elemlib('sinm');
 
if load_ref('%ans') then   bugmes();quit;end,
 
//loads sinm from the library
 
 
%ans = elemlib.cosm(A);
 
if load_ref('%ans') then   bugmes();quit;end,
 
//reloads cosm and executes it
 
xdel_run(winsid());
 
 
mclose(%U);
 
