<?xml version="1.0" standalone="no"?>
<!--*- mode: xml -*-->
<!DOCTYPE MAN SYSTEM "../../manrev.dtd">
<MAN>
  <LANGUAGE>eng</LANGUAGE>
  <TITLE>scicosim  </TITLE>
  <TYPE>Scicos function  </TYPE>
  <DATE>Janvier 199</DATE>
  <SHORT_DESCRIPTION name="scicosim"> Scicos simulation function  </SHORT_DESCRIPTION>
  <CALLING_SEQUENCE>
    <CALLING_SEQUENCE_ITEM>[state,t]=scicosim(state,0,tf,sim,'start' ,tol)  </CALLING_SEQUENCE_ITEM>
    <CALLING_SEQUENCE_ITEM>[state,t]=scicosim(state,tcur,tf,sim,'run' ,tol)  </CALLING_SEQUENCE_ITEM>
    <CALLING_SEQUENCE_ITEM>[state,t]=scicosim(state,tcur,tf,sim,'finish' ,tol)  </CALLING_SEQUENCE_ITEM>
  </CALLING_SEQUENCE>
  <PARAM>
    <PARAM_INDENT>
      <PARAM_ITEM>
        <PARAM_NAME>state  </PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: Scilab <VERB>tlist</VERB> contains scicosim  initial state. Usually generated by Scicos <VERB>Compile</VERB> or <VERB>Run</VERB> menus (see scicos_cpr for more details).</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>tcur  </PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: initial simulation  time</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>tf  </PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: final simulation time (Unused with options  <VERB>'start'</VERB> and  <VERB>'finish'</VERB></SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>sim  </PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: Scilab <VERB>tlist</VERB>.  Usually generated by Scicos <VERB>Compile</VERB> menu (see scicos_cpr  for more details).</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>tol  </PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: 4 vector <VERB>[atol,rtol,ttol,deltat]</VERB> where <VERB>atol</VERB>, <VERB>rtol</VERB>  are respectively the absolute and relative tolerances for ode solver (see ode), <VERB>ttol</VERB> is the precision on event dates.  <VERB>deltat</VERB> is maximum integration interval for each call to ode solver.</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
      <PARAM_ITEM>
        <PARAM_NAME>t  </PARAM_NAME>
        <PARAM_DESCRIPTION>
          <SP>: final reached time</SP>
        </PARAM_DESCRIPTION>
      </PARAM_ITEM>
    </PARAM_INDENT>
  </PARAM>
  <DESCRIPTION>
    <P>
    Simulator for Scicos compiled diagram. Usually <VERB>scicosim</VERB> is
    called by <VERB>scicos</VERB> to perform simulation of a diagram. 
  </P>
    <P>
    But <VERB>scicosim</VERB> may also be called outside Scicos. Typical usage in
    such a case may be:
  </P>
    <DESCRIPTION_INDENT>
      <DESCRIPTION_ITEM label="1">
        <SP>Use Scicos to define a block diagram, compile it.</SP>
      </DESCRIPTION_ITEM>
      <DESCRIPTION_ITEM label="2">
        <SP>Save the compiled diagram using <VERB>Save</VERB> ,<VERB>SaveAs</VERB> Scicos menus .</SP>
      </DESCRIPTION_ITEM>
      <DESCRIPTION_ITEM label="3">
        <SP>In Scilab, load saved file using <VERB>load</VERB> function. You get variables <VERB>scicos_ver</VERB>, <VERB>scs_m</VERB>, <VERB>%cpr</VERB></SP>
        <P><VERB>scs_m</VERB> is the diagram Scicos main data structure.
  </P>
        <P><VERB>%cpr</VERB> (see <LINK>scicos_cpr</LINK>) is a data structure with fields 
    <VERB>state</VERB> ,<VERB>sim</VERB> ,<VERB>cor</VERB>
    ,<VERB>corinv</VERB> if the diagram had been compiled before
    saved, else <VERB>%cpr=list()</VERB>. 
  </P>
      </DESCRIPTION_ITEM>
      <DESCRIPTION_ITEM label="4">
        <SP>Extract <VERB>state</VERB> out of <VERB>%cpr</VERB> <VERB>state=%cpr.state</VERB></SP>
      </DESCRIPTION_ITEM>
      <DESCRIPTION_ITEM label="5">
        <SP>Execute <VERB>[state,t]=scicosim(state,0,tf,%cpr.sim,'start' ,tol)</VERB> for initialisation.</SP>
      </DESCRIPTION_ITEM>
      <DESCRIPTION_ITEM label="6">
        <SP>Execute <VERB>[state,t]=scicosim(state,0,tf,%cpr.sim,'run' ,tol])</VERB> for simulation from <VERB/> to <VERB>tf</VERB>. Many successives such calls may be performed changing initial and final time.</SP>
      </DESCRIPTION_ITEM>
      <DESCRIPTION_ITEM label="7">
        <SP>Execute <VERB>[state,t]=scicosim(state,0,tf,%cpr.sim,'finish' ,tol)</VERB> at the very end of the simulation to close files,...  For advanced user it is possible to &quot;manually&quot; change some parameters or state values</SP>
      </DESCRIPTION_ITEM>
    </DESCRIPTION_INDENT>
    <P>
  The <VERB>tol</VERB> parameter is fixed is Scicos by the Run/Setup
    menu. In scicos its default value is [0.0001,0.000001,1D-10,10000]</P>
  </DESCRIPTION>
  <SEE_ALSO>
    <SEE_ALSO_ITEM>
      <LINK>scicos</LINK>
    </SEE_ALSO_ITEM>
    <SEE_ALSO_ITEM>
      <LINK>scicos_cpr</LINK>
    </SEE_ALSO_ITEM>
  </SEE_ALSO>
</MAN>
